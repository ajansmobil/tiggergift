<!doctype html>
<html lang="tr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Page-Exit" content="BlendTrans(Duration"="0)" />
  <meta http-equiv="Page-Enter" content="BlendTrans(Duration"="0)" />
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
  <title>Login</title>
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta property="og:title" content="Login" />
  <meta property="og:description" content="" />
  <meta property="og:image" content="https://tiggergift.com/img/icon.png" />
  <meta name="robots" content="index, follow" />
  <link rel="stylesheet" href="/src/css.css?v=sbmos" />
  <link rel="shortcut icon" href="/img/icon.png?v=sbmos" type="image/png" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
    rel="stylesheet" />

  <link rel="stylesheet" href="/src/swiper-bundle.min.css" />
  <script src="/src/swiper-bundle.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-storage.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-messaging.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-messaging.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-functions.js"></script>



<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBW1jNJSUMgje8ZQ_jdT0Kbge9bnOZrlfs",
    authDomain: "tiggergiftcom.firebaseapp.com",
    projectId: "tiggergiftcom",
    storageBucket: "tiggergiftcom.firebasestorage.app",
    messagingSenderId: "869071434601",
    appId: "1:869071434601:web:292f989d265a4a88a6c3f8"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
</script>


  <script type="text/javascript" src="/src/firebase.js?v=sbmos"></script>
<link rel="stylesheet" href="style.css?v=sbmos">
</head>

<body>
  <div id="header"><header class="zqt1d-header-wrapper">
  <div class="zqt1d-header">
    <div class="zqt1d-header-top">
      <a href="/tr/" class="zqt1d-header-left">
        <img src="/img/logo.png?v=sbmos" alt="Tiggergift Logo" class="zqt1d-logo" />
      </a>

      <div class="zqt1d-search-box">
        <span class="material-symbols-outlined">search</span>
        <input type="text" placeholder="Ürün ara..." />
        <button>Ara</button>
      </div>

      <div class="zqt1d-support-info">
        <span class="material-symbols-outlined">headphones</span>
        <div>
          <small>7/24 Destek</small>
          <strong>+90 342 221 00 02</strong>
        </div>
      </div>

      <div class="zqt1d-icons">
        <a href="/tr/login/" class="material-symbols-outlined">person</a>
        <a href="/tr/favorilerim/" class="material-symbols-outlined">favorite</a>
        <a href="/tr/basket/" class="material-symbols-outlined">shopping_cart</a>
      </div>
    </div>
  </div>

  <div class="zqt1d-header-bottom">
    <div class="zqt1d-header-bottom-inner">
      <button class="zqt1d-category-btn">
        <span class="material-symbols-outlined">menu</span> Kategoriler
      </button>
      <nav class="zqt1d-main-menu"><a href="/tr/urunlerimiz/">Kampanyalı</a><a href="/tr/baklava/">Baklava</a><a href="/tr/kurumsal/">Kurumsal</a><a href="/tr/yerelurunler/">Yerel Ürünler</a><a href="/tr/iletisim/">İletişim</a></nav>
    </div>
  </div>
</header>


</div>
  <div id="content"><div class="kd63h">
  <div class="kd63h-body">
    <div class="kd63h-login-menu">
      <div id="kd63h-login-menu-left">Giriş Yap</div>
      <div id="kd63h-login-menu-right">Üye Ol</div>
    </div>
    <div class="kd63h-body-form" id="kd63h-login">
      <div class="input-container">
        <input type="email" id="login-email" class="inputmatrix1" placeholder="Mail Adresiniz" />
        <label for="input" class="placeholder">Mail Adresiniz</label>
      </div>
      <div class="input-container">
        <input type="password" id="login-password" class="inputmatrix1" placeholder="Şifre" />
        <label for="input" class="placeholder">Şifre</label>
      </div>
      <div class="kd63h-null" onclick="showForgotPassword()">Şifremi Unuttum</div>
      <div class="kd63h-button" onclick="loginUser()">Giriş Yap</div>
    </div>
    <div class="kd63h-body-form" id="kd63h-memberol">
      <div class="input-container">
        <input type="text" id="register-name" class="inputmatrix1" placeholder="Ad Soyad" />
        <label for="input" class="placeholder">Ad Soyad</label>
      </div>
      <div class="input-container">
        <input type="email" id="register-email" class="inputmatrix1" placeholder="Mail Adresiniz" />
        <label for="input" class="placeholder">Mail Adresiniz</label>
      </div>
      <div class="input-container">
        <input type="password" id="register-password" class="inputmatrix1" placeholder="Şifre" />
        <label for="input" class="placeholder">Şifre</label>
      </div>
      <div class="input-container">
        <input type="password" id="register-password-confirm" class="inputmatrix1"
          placeholder="Şifre Tekrar" />
        <label for="input" class="placeholder">Şifre Tekrar</label>
      </div>
      <div class="kd63h-button" onclick="registerUser()">Üye Ol</div>
      <div class="kd63h-null" onclick="switchToLogin()">Üye misin?</div>
    </div>

    <!-- Şifre Unutma Formu -->
    <div class="kd63h-body-form" id="kd63h-forgot-password" style="display: none;">
      <div class="input-container">
        <input type="email" id="forgot-email" class="inputmatrix1" placeholder="Mail Adresiniz" />
        <label for="input" class="placeholder">Mail Adresiniz</label>
      </div>
      <div class="kd63h-button" onclick="resetPassword()">Şifre Sıfırlama Maili Gönder</div>
      <div class="kd63h-null" onclick="backToLogin()">Giriş Sayfasına Dön</div>
    </div>
    <div class="media-login">
      <div onclick="googleLogin()">
        <img src="/src/icon/google.png" height="35" alt="Google İle Giriş Yap" />
        <div>Google İle Giriş Yap</div>
      </div>
    </div>
  </div>
</div>

<script>
        // Login messages for tr
        window.loginMessages = {"loginTitle":"Giriş Yap","registerTitle":"Üye Ol","emailPlaceholder":"Mail Adresiniz","passwordPlaceholder":"Şifre","passwordConfirmPlaceholder":"Şifre Tekrar","namePlaceholder":"Ad Soyad","loginButton":"Giriş Yap","registerButton":"Üye Ol","forgotPassword":"Şifremi Unuttum","alreadyMember":"Üye misin?","googleLogin":"Google İle Giriş Yap","resetPasswordButton":"Şifre Sıfırlama Maili Gönder","backToLogin":"Giriş Sayfasına Dön","nameRequired":"Ad soyad giriniz!","validEmailRequired":"Geçerli bir email adresi giriniz!","passwordMinLength":"Şifre en az 6 karakter olmalıdır!","passwordsNotMatch":"Şifreler eşleşmiyor!","emailAlreadyExists":"Bu email adresi zaten kullanımda!","registrationSuccess":"Üyelik başarıyla oluşturuldu!","registrationError":"Üyelik oluşturulurken bir hata oluştu!","passwordRequired":"Şifre giriniz!","invalidCredentials":"Email adresi veya şifre hatalı!","accountDeactivated":"Hesabınız deaktif durumda!","loginSuccess":"Giriş başarılı!","loginError":"Giriş yapılırken bir hata oluştu!","userNotFound":"Bu email adresine kayıtlı kullanıcı bulunamadı!","resetEmailSent":"Şifre sıfırlama maili gönderildi!","resetEmailError":"Şifre sıfırlama maili gönderilirken bir hata oluştu!","googleLoginDevelopment":"Google login özelliği geliştiriliyor...","alreadyLoggedIn":"Zaten giriş yapmışsınız!"};


  // Menu navigation functions
  function switchToLogin() {
    document.getElementById("kd63h-login-menu-left").style.backgroundColor = "#101010";
    document.getElementById("kd63h-login-menu-right").style.backgroundColor = "#7b560d";
      document.getElementById("kd63h-login").style.display = "flex";
      document.getElementById("kd63h-memberol").style.display = "none";
    document.getElementById("kd63h-forgot-password").style.display = "none";
  }

  function switchToRegister() {
    document.getElementById("kd63h-login-menu-right").style.backgroundColor = "#101010";
    document.getElementById("kd63h-login-menu-left").style.backgroundColor = "#7b560d";
      document.getElementById("kd63h-login").style.display = "none";
      document.getElementById("kd63h-memberol").style.display = "flex";
    document.getElementById("kd63h-forgot-password").style.display = "none";
  }

  function showForgotPassword() {
    document.getElementById("kd63h-login").style.display = "none";
    document.getElementById("kd63h-memberol").style.display = "none";
    document.getElementById("kd63h-forgot-password").style.display = "flex";
  }

  function backToLogin() {
    switchToLogin();
  }

  // Validation functions
  function validateEmail(email) {
    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return re.test(email);
  }

  function validatePassword(password) {
    return password.length >= 6;
  }

  function showNotification(message, type = 'info') {
    // Mevcut bildirimi kaldır
    const existingNotification = document.querySelector('.login-notification');
    if (existingNotification) {
      existingNotification.remove();
    }

    // Yeni bildirim oluştur
    const notification = document.createElement('div');
    notification.className = `login-notification ${type}`;
    notification.innerHTML = `
      <span class="material-symbols-outlined">
        ${type === 'success' ? 'check_circle' : type === 'error' ? 'error' : 'info'}
      </span>
      ${message}
    `;

    // Bildirim stilini ekle
    notification.style.cssText = `
      position: fixed;
      top: 20px;
      right: 20px;
      background: ${type === 'success' ? '#22c55e' : type === 'error' ? '#ef4444' : '#3b82f6'};
      color: white;
      padding: 12px 16px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;
      animation: slideIn 0.3s ease-out;
    `;

    document.body.appendChild(notification);

    // 3 saniye sonra kaldır
    setTimeout(() => {
      notification.style.animation = 'slideOut 0.3s ease-in';
      setTimeout(() => {
        if (notification.parentNode) {
          notification.remove();
        }
      }, 300);
    }, 3000);
  }

  // User registration
  async function registerUser() {
    const name = document.getElementById('register-name').value.trim();
    const email = document.getElementById('register-email').value.trim();
    const password = document.getElementById('register-password').value;
    const passwordConfirm = document.getElementById('register-password-confirm').value;

    // Validation
    if (!name) {
      showNotification(window.loginMessages.nameRequired || 'Ad soyad giriniz!', 'error');
      return;
    }

    if (!validateEmail(email)) {
      showNotification(window.loginMessages.validEmailRequired || 'Geçerli bir email adresi giriniz!', 'error');
      return;
    }

    if (!validatePassword(password)) {
      showNotification(window.loginMessages.passwordMinLength || 'Şifre en az 6 karakter olmalıdır!', 'error');
      return;
    }

    if (password !== passwordConfirm) {
      showNotification(window.loginMessages.passwordsNotMatch || 'Şifreler eşleşmiyor!', 'error');
      return;
    }

    try {
      // Firebase Authentication ile kullanıcı oluştur
      const userCredential = await authRegisterWeb(email, password, {
        name: name,
        loginMethod: 'email'
      });

      const firebaseUser = userCredential;

      // Update global user object
      window.user.id = firebaseUser.uid;
      window.user.email = firebaseUser.email;
      window.user.name = name;
      window.user.isLoggedIn = true;
      window.user.loginMethod = 'email';

      // Save to localStorage
      localStorage.setItem('user', JSON.stringify(window.user));

      showNotification(window.loginMessages.registrationSuccess || 'Üyelik başarıyla oluşturuldu!', 'success');

      // Redirect to siparislerim page
      setTimeout(() => {
        window.location.href = '/tr/siparislerim/';
      }, 1500);

    } catch (error) {
      console.error('Registration error:', error);

      let errorMessage = window.loginMessages.registrationError || 'Üyelik oluşturulurken bir hata oluştu!';

      // Firebase Authentication hata mesajları
      if (error.code === 'auth/email-already-in-use') {
        errorMessage = window.loginMessages.emailAlreadyExists || 'Bu email adresi zaten kullanımda!';
      } else if (error.code === 'auth/weak-password') {
        errorMessage = window.loginMessages.passwordMinLength || 'Şifre en az 6 karakter olmalıdır!';
      } else if (error.code === 'auth/invalid-email') {
        errorMessage = window.loginMessages.validEmailRequired || 'Geçerli bir email adresi giriniz!';
      }

      showNotification(errorMessage, 'error');
    }
  }

  // User login
  async function loginUser() {
    const email = document.getElementById('login-email').value.trim();
    const password = document.getElementById('login-password').value;

    // Validation
    if (!validateEmail(email)) {
      showNotification(window.loginMessages.validEmailRequired || 'Geçerli bir email adresi giriniz!', 'error');
      return;
    }

    if (!password) {
      showNotification(window.loginMessages.passwordRequired || 'Şifre giriniz!', 'error');
      return;
    }

    try {
      // Firebase Authentication ile giriş yap
      const userCredential = await authLoginWeb(email, password);
      const firebaseUser = userCredential.user;

      // Firestore'dan kullanıcı bilgilerini al
      const userDoc = await dataGetWeb('users', firebaseUser.uid);
      const userData = userDoc.exists ? userDoc.data() : {};

      // Check if user is active
      if (userData.isActive === false) {
        showNotification(window.loginMessages.accountDeactivated || 'Hesabınız deaktif durumda!', 'error');
        await authLogoutWeb(); // Deaktif kullanıcıyı çıkış yaptır
        return;
      }

      // Update global user object
      window.user.id = firebaseUser.uid;
      window.user.email = firebaseUser.email;
      window.user.name = userData.name || firebaseUser.displayName || '';
      window.user.isLoggedIn = true;
      window.user.loginMethod = userData.loginMethod || 'email';

      // Save to localStorage
      localStorage.setItem('user', JSON.stringify(window.user));

      showNotification(window.loginMessages.loginSuccess || 'Giriş başarılı!', 'success');

      // Redirect to user page
      setTimeout(() => {
        window.location.href = '/tr/siparislerim/';
      }, 1500);

    } catch (error) {
      console.error('Login error:', error);

      let errorMessage = window.loginMessages.loginError || 'Giriş yapılırken bir hata oluştu!';

      // Firebase Authentication hata mesajları
      if (error.code === 'auth/user-not-found' || error.code === 'auth/wrong-password') {
        errorMessage = window.loginMessages.invalidCredentials || 'Email adresi veya şifre hatalı!';
      } else if (error.code === 'auth/invalid-email') {
        errorMessage = window.loginMessages.validEmailRequired || 'Geçerli bir email adresi giriniz!';
      } else if (error.code === 'auth/user-disabled') {
        errorMessage = window.loginMessages.accountDeactivated || 'Hesabınız deaktif durumda!';
      }

      showNotification(errorMessage, 'error');
    }
  }

  // Password reset
  async function resetPassword() {
    const email = document.getElementById('forgot-email').value.trim();

    if (!validateEmail(email)) {
      showNotification(window.loginMessages.validEmailRequired || 'Geçerli bir email adresi giriniz!', 'error');
      return;
    }

    try {
      // Firebase Authentication ile şifre sıfırlama maili gönder
      await authResetPasswordWeb(email);

      showNotification(window.loginMessages.resetEmailSent || 'Şifre sıfırlama maili gönderildi!', 'success');

      // Giriş sayfasına dön
      setTimeout(() => {
        backToLogin();
      }, 2000);

    } catch (error) {
      console.error('Password reset error:', error);

      let errorMessage = window.loginMessages.resetEmailError || 'Şifre sıfırlama maili gönderilirken bir hata oluştu!';

      // Firebase Authentication hata mesajları
      if (error.code === 'auth/user-not-found') {
        errorMessage = window.loginMessages.userNotFound || 'Bu email adresine kayıtlı kullanıcı bulunamadı!';
      } else if (error.code === 'auth/invalid-email') {
        errorMessage = window.loginMessages.validEmailRequired || 'Geçerli bir email adresi giriniz!';
      }

      showNotification(errorMessage, 'error');
    }
  }

  // Google login
  async function googleLogin() {
    try {
      // Firebase Authentication ile Google giriş
      const firebaseUser = await authGoogleLoginWeb();

      // Update global user object
      user.id = firebaseUser.uid;
      user.email = firebaseUser.email;
      user.name = firebaseUser.displayName;
      user.isLoggedIn = true;
      user.loginMethod = 'google';

      // Save to localStorage
      localStorage.setItem('user', JSON.stringify(user));

      showNotification(window.loginMessages.loginSuccess || 'Giriş başarılı!', 'success');

      // Redirect to user page
      setTimeout(() => {
        window.location.href = '/tr/siparislerim/';
      }, 1500);

    } catch (error) {
      console.error('Google login error:', error);

      let errorMessage = window.loginMessages.loginError || 'Giriş yapılırken bir hata oluştu!';

      // Google login hata mesajları
      if (error.code === 'auth/popup-closed-by-user') {
        return; // Kullanıcı popup'ı kapattı, hata gösterme
      } else if (error.code === 'auth/cancelled-popup-request') {
        return; // İptal edildi, hata gösterme
      }

      showNotification(errorMessage, 'error');
    }
  }

  // Authentication state değişikliklerini dinle ve otomatik yönlendir
  authStateListenerWeb((firebaseUser) => {
    if (firebaseUser) {
      // Kullanıcı giriş yapmış, otomatik yönlendir
      showNotification(window.loginMessages?.alreadyLoggedIn || 'Zaten giriş yapmışsınız!', 'info');
      setTimeout(() => {
        window.location.href = '/tr/siparislerim/';
      }, 1000);
    }
  });

  // Initialize menu event listeners
  setTimeout(() => {
    const loginMenuLeft = document.getElementById("kd63h-login-menu-left");
    const loginMenuRight = document.getElementById("kd63h-login-menu-right");

    if (loginMenuLeft) {
      loginMenuLeft.addEventListener("click", switchToLogin);
    }

    if (loginMenuRight) {
      loginMenuRight.addEventListener("click", switchToRegister);
    }
  }, 100);
</script>
</div>
  <div id="footer"><!-- Google Material Icons -->
<link
  href="https://fonts.googleapis.com/icon?family=Material+Icons"
  rel="stylesheet"
/>

<!-- Güven Kutuları Alanı -->
<div class="kxn1m-trust-boxes">
      <div class="kxn1m-trust-item">
        <span class="material-icons">account_balance_wallet</span>
        <div class="kxn1m-trust-text">
          <div class="kxn1m-trust-title">100% Güvenli Ödeme</div>
          <div class="kxn1m-trust-desc">3D Secure ile Güvenli Ödeme</div>
        </div>
      </div>
    
      <div class="kxn1m-trust-item">
        <span class="material-icons">inventory_2</span>
        <div class="kxn1m-trust-text">
          <div class="kxn1m-trust-title">%100 Orijinal Ürün</div>
          <div class="kxn1m-trust-desc">%100 Lisanslı Orijinal Ürün ile Etkinleştirme</div>
        </div>
      </div>
    
      <div class="kxn1m-trust-item">
        <span class="material-icons">local_shipping</span>
        <div class="kxn1m-trust-text">
          <div class="kxn1m-trust-title">Hızlı Teslimat</div>
          <div class="kxn1m-trust-desc">Tüm Alışverişlerinizde Online Hızlı Teslimat</div>
        </div>
      </div>
    </div>

<!-- CSS -->

<footer class="footer">
  <div class="waves">
    <div class="wave" id="wave1"></div>
    <div class="wave" id="wave2"></div>
    <div class="wave" id="wave3"></div>
    <div class="wave" id="wave4"></div>
  </div>
  <ul class="social-icon">



    
    

 


    <li class="social-icon__item">
      <a class="social-icon__link" href="#">
        <ion-icon name="logo-facebook"></ion-icon>
      </a>
    </li>
    <li class="social-icon__item">
      <a class="social-icon__link" href="#">
        <ion-icon name="logo-x"></ion-icon>
      </a>
    </li>
    <li class="social-icon__item">
      <a class="social-icon__link" href="#">
        <ion-icon name="logo-linkedin"></ion-icon>
      </a>
    </li>
    <li class="social-icon__item">
      <a class="social-icon__link" href="#">
        <ion-icon name="logo-instagram"></ion-icon>
      </a>
    </li>
  </ul>
  <ul class="menu">
    <li class="menu__item"><a class="menu__link" href="/tr">Anasayfa</a></li><li class="menu__item"><a class="menu__link" href="/tr/urunlerimiz">Kampanyalı</a></li><li class="menu__item"><a class="menu__link" href="/tr/baklava">Baklava</a></li><li class="menu__item"><a class="menu__link" href="/tr/kurumsal">Kurumsal</a></li><li class="menu__item"><a class="menu__link" href="/tr/yerelurunler">Yerel Ürünler</a></li><li class="menu__item"><a class="menu__link" href="/tr/iletisim">İletişim</a></li>
  </ul>
  <p>Tiggergift 2025 cognite. &copy;</p>
</footer>

<a
  href="https://api.whatsapp.com/send/?phone=905320000000&text=&app_absent=0"
  target="_blank"
  class="whatsapp"
>
  <div class="whatsappicon">
    <svg
      _ngcontent-cty-c90=""
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      viewBox="0 0 32 32"
      class="wa-messenger-svg-whatsapp wh-svg-icon"
    >
      <path
        _ngcontent-cty-c90=""
        d=" M19.11 17.205c-.372 0-1.088 1.39-1.518 1.39a.63.63 0 0 1-.315-.1c-.802-.402-1.504-.817-2.163-1.447-.545-.516-1.146-1.29-1.46-1.963a.426.426 0 0 1-.073-.215c0-.33.99-.945.99-1.49 0-.143-.73-2.09-.832-2.335-.143-.372-.214-.487-.6-.487-.187 0-.36-.043-.53-.043-.302 0-.53.115-.746.315-.688.645-1.032 1.318-1.06 2.264v.114c-.015.99.472 1.977 1.017 2.78 1.23 1.82 2.506 3.41 4.554 4.34.616.287 2.035.888 2.722.888.817 0 2.15-.515 2.478-1.318.13-.33.244-.73.244-1.088 0-.058 0-.144-.03-.215-.1-.172-2.434-1.39-2.678-1.39zm-2.908 7.593c-1.747 0-3.48-.53-4.942-1.49L7.793 24.41l1.132-3.337a8.955 8.955 0 0 1-1.72-5.272c0-4.955 4.04-8.995 8.997-8.995S25.2 10.845 25.2 15.8c0 4.958-4.04 8.998-8.998 8.998zm0-19.798c-5.96 0-10.8 4.842-10.8 10.8 0 1.964.53 3.898 1.546 5.574L5 27.176l5.974-1.92a10.807 10.807 0 0 0 16.03-9.455c0-5.958-4.842-10.8-10.802-10.8z"
        fill-rule="evenodd"
      ></path>
    </svg>
  </div>
  Bize Ulaşın
</a>

</div>
</body>

<link rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />



<script type="text/javascript" src="/src/js.js?v=sbmos"></script>
<script src="/src/cookie.js?v=sbmos"></script>

</html>
