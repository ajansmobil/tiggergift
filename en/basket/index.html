<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Page-Exit" content="BlendTrans(Duration"="0)" />
  <meta http-equiv="Page-Enter" content="BlendTrans(Duration"="0)" />
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
  <meta http-equiv="Cache-Control" content="max-age=3600, public" />
  <meta http-equiv="Pragma" content="cache" />
  <meta http-equiv="Expires" content="3600" />
  <title>undefined</title>
  <meta name="description" content="undefined" />
  <meta name="keywords" content="undefined" />
  <meta property="og:title" content="undefined" />
  <meta property="og:description" content="undefined" />
  <meta property="og:image" content="https://tiggergift.com/img/icon.png" />
  <meta name="robots" content="index, follow" />


  <link rel="stylesheet" href="/src/rubik.css" />
  <link rel="stylesheet" href="/src/css.css?v=fa9rf" />
  <link rel="shortcut icon" href="/img/icon.png?v=fa9rf" type="image/png" />

  <link rel="stylesheet" href="/src/swiper-bundle.min.css" />
  <script src="/src/swiper-bundle.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-storage.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-messaging.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-messaging.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-functions.js"></script>



<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBW1jNJSUMgje8ZQ_jdT0Kbge9bnOZrlfs",
    authDomain: "tiggergiftcom.firebaseapp.com",
    projectId: "tiggergiftcom",
    storageBucket: "tiggergiftcom.firebasestorage.app",
    messagingSenderId: "869071434601",
    appId: "1:869071434601:web:292f989d265a4a88a6c3f8"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
</script>


  <script type="text/javascript" src="/src/firebase.js?v=fa9rf"></script>
<link rel="stylesheet" href="style.css?v=fa9rf">
</head>

<body>
  <div id="header"><header class="lcvx0-header-wrapper">
  <div class="lcvx0-header">
    <div class="lcvx0-header-top">
      <a href="/en/" class="lcvx0-header-left">
        <img src="/img/logo.png?v=fa9rf" alt="Tiggergift Logo" class="lcvx0-logo" />
      </a>

      <div class="lcvx0-search-box">
        <span class="material-symbols-outlined">search</span>
        <input type="text" placeholder="Ürün ara..." />
        <button>Ara</button>
      </div>

      <div class="lcvx0-support-info">
        <span class="material-symbols-outlined">headphones</span>
        <div>
          <small>7/24 Destek</small>
          <strong>0342 343 82 12</strong>
        </div>
      </div>

      <div class="lcvx0-icons">
        <a href="/en/login/" class="material-symbols-outlined">person</a>
        <a href="/en/favorilerim/" class="material-symbols-outlined">favorite</a>
        <a href="/en/basket/" class="material-symbols-outlined">shopping_cart</a>
      </div>
    </div>
  </div>

  <div class="lcvx0-header-bottom">
    <div class="lcvx0-header-bottom-inner">
      <button class="lcvx0-category-btn">
        <span class="material-symbols-outlined">menu</span> Kategoriler
      </button>
      <nav class="lcvx0-main-menu"><a href="/en/bakir-mutfak-esyalari/"></a><a href="/en/bakir-aksesuarlar/"></a><a href="/en/ehli-keyf/"></a><a href="/en/urunlerimiz/"></a><a href="/en/yerelurunler/"></a><a href="/en/kurumsal/"></a><a href="/en/iletisim/"></a></nav>
    </div>
  </div>
</header>


</div>
  <div id="content"><div class="pww7d">
  <div class="pww7dTitle">
    <span class="material-symbols-outlined">shopping_cart</span>
    My Cart
  </div>
  <div class="pww7dBody">
    <!-- Cart Items List -->
    <div class="pww7dList" id="cartItemsList">
      <!-- Dynamic cart items will be loaded here -->
    </div>

    <!-- Cart Summary -->
    <div class="pww7dTotal">
      <div class="pww7dTotalBody">
        <div class="cart-summary">
          <div class="summary-item">
            <span>Subtotal:</span>
            <span id="subtotalAmount">0 ₺</span>
          </div>
          <div class="summary-item">
            <span>Tax (18%):</span>
            <span id="taxAmount">0 ₺</span>
          </div>
          <div class="summary-item total">
            <span>Total:</span>
            <span id="totalAmount">0 ₺</span>
          </div>
          <div class="cart-actions">
            <button class="clear-cart-btn" onclick="clearCart()" style="display: none;">
              <span class="material-symbols-outlined">delete_sweep</span>
              Clear Cart
            </button>
            <button class="continue-shopping-btn" onclick="continueShopping()">
              <span class="material-symbols-outlined">storefront</span>
              Continue Shopping
            </button>
            <button class="checkout-btn" onclick="proceedToCheckout()" style="display: none;">
              <span class="material-symbols-outlined">payment</span>
              Proceed to Checkout
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Demo actions removed for production -->
</div>

<script>
  // Firebase'den sepet verilerini çek
  async function loadCart() {
    try {
      // Kullanıcı giriş yapmış mı kontrol et
      if (!user.isLoggedIn || !user.id) {
        const cartList = document.getElementById('cartItemsList');
        cartList.innerHTML = `<div class="empty-cart">
          <span class="material-symbols-outlined">shopping_cart</span>
          <p>${window.cartMessages?.loginRequired || 'Sepetinizi görmek için giriş yapmanız gerekiyor.'}</p>
          <button class="login-btn" onclick="window.location.href='/en/login/'">
            <span class="material-symbols-outlined">login</span>
            Giriş Yap
          </button>
        </div>`;
        return;
      }

      // Sepet öğelerini Firebase'den çek
      const cartSnapshot = await dataListWeb(`users/${user.id}/cart`);
      const cartList = document.getElementById('cartItemsList');

      if (cartSnapshot.empty) {
        cartList.innerHTML = `<div class="empty-cart">
          <span class="material-symbols-outlined">shopping_cart</span>
          <p>${window.cartMessages?.emptyCart || 'Sepetinizde ürün bulunmuyor'}</p>
        </div>`;
        updateCartSummary([]);
        return;
      }

      // Sepet öğelerini render et
      let cartHTML = '';
      const cartItems = [];

      cartSnapshot.forEach((doc) => {
        const item = { id: doc.id, ...doc.data() };
        cartItems.push(item);
        cartHTML += generateCartItemHTML(item);
      });

      cartList.innerHTML = cartHTML;
      updateCartSummary(cartItems);

      // Clear cart ve checkout butonlarını göster
      document.querySelector('.clear-cart-btn').style.display = 'flex';
      document.querySelector('.checkout-btn').style.display = 'flex';

    } catch (error) {
      console.error('Cart loading error:', error);
      showNotification(window.cartMessages?.errorOccurred || 'Bir hata oluştu!', 'error');
    }
  }

  // Sepet öğesi HTML'i oluştur
  function generateCartItemHTML(item) {
    return `
      <div class="pww7dListChile" data-item-id="${item.id}">
        <div class="pww7dListChileImg">
          <img src="${item.image || '/img/no-image.png'}" alt="${item.name}" />
        </div>
        <div class="pww7dListChileBody">
          <div class="pww7dListChileBodyTitle">
            <span>${item.name}</span>
          </div>
          <div class="pww7dListChileBodySpot">${item.category || 'Genel'}</div>
          <div class="pww7dListChileBodyPrice">
            <div class="pww7dListChileBodyPriceBody">${formatPrice(item.price)} ₺</div>
            <div class="pww7dListChileBodyNumber">
              <button class="quantity-btn" onclick="updateQuantity('${item.id}', ${item.quantity - 1})">
                <span class="material-symbols-outlined">remove</span>
              </button>
              <div class="quantity">${item.quantity}</div>
              <button class="quantity-btn" onclick="updateQuantity('${item.id}', ${item.quantity + 1})">
                <span class="material-symbols-outlined">add</span>
              </button>
            </div>
          </div>
        </div>
        <button class="remove-item" onclick="removeFromCart('${item.id}')" title="${window.cartMessages?.removeItem || 'Ürünü Kaldır'}">
          <span class="material-symbols-outlined">delete</span>
        </button>
      </div>
    `;
  }

  // Sepet özetini güncelle
  function updateCartSummary(cartItems) {
    let subtotal = 0;
    cartItems.forEach(item => {
      subtotal += item.price * item.quantity;
    });

    const tax = subtotal * 0.18; // 18% KDV
    const total = subtotal + tax;

    document.getElementById('subtotalAmount').textContent = formatPrice(subtotal) + ' ₺';
    document.getElementById('taxAmount').textContent = formatPrice(tax) + ' ₺';
    document.getElementById('totalAmount').textContent = formatPrice(total) + ' ₺';
  }

  // Fiyat formatlama
  function formatPrice(price) {
    return parseFloat(price).toLocaleString('tr-TR', {
      minimumFractionDigits: 2,
      maximumFractionDigits: 2
    });
  }

  // Miktar güncelleme
  async function updateQuantity(itemId, newQuantity) {
    if (!user.isLoggedIn || !user.id) {
      showNotification(window.cartMessages?.loginRequired || 'Giriş yapmanız gerekiyor.', 'error');
      return;
    }

    try {
      if (newQuantity <= 0) {
        await removeFromCart(itemId);
        return;
      }

      await dataUpdateWeb(`users/${user.id}/cart`, itemId, { quantity: newQuantity });
      showNotification(window.cartMessages?.quantityUpdated || 'Miktar güncellendi!', 'success');
      loadCart(); // Sepeti yeniden yükle
    } catch (error) {
      console.error('Quantity update error:', error);
      showNotification(window.cartMessages?.errorOccurred || 'Bir hata oluştu!', 'error');
    }
  }

  // Sepetten kaldır
  async function removeFromCart(itemId) {
    if (!user.isLoggedIn || !user.id) {
      showNotification(window.cartMessages?.loginRequired || 'Giriş yapmanız gerekiyor.', 'error');
      return;
    }

    try {
      await dataDeleteWeb(`users/${user.id}/cart`, itemId);
      showNotification(window.cartMessages?.itemRemoved || 'Ürün sepetten kaldırıldı!', 'success');
      loadCart(); // Sepeti yeniden yükle
    } catch (error) {
      console.error('Remove item error:', error);
      showNotification(window.cartMessages?.errorOccurred || 'Bir hata oluştu!', 'error');
    }
  }

  // Sepeti temizle
  async function clearCart() {
    if (!user.isLoggedIn || !user.id) {
      showNotification(window.cartMessages?.loginRequired || 'Giriş yapmanız gerekiyor.', 'error');
      return;
    }

    if (!confirm('Sepetinizi tamamen temizlemek istediğinizden emin misiniz?')) {
      return;
    }

    try {
      const cartSnapshot = await dataListWeb(`users/${user.id}/cart`);
      const deletePromises = [];

      cartSnapshot.forEach((doc) => {
        deletePromises.push(dataDeleteWeb(`users/${user.id}/cart`, doc.id));
      });

      await Promise.all(deletePromises);
      showNotification(window.cartMessages?.cartCleared || 'Sepet temizlendi!', 'success');
      loadCart(); // Sepeti yeniden yükle
    } catch (error) {
      console.error('Clear cart error:', error);
      showNotification(window.cartMessages?.errorOccurred || 'Bir hata oluştu!', 'error');
    }
  }

  // Alışverişe devam et
  function continueShopping() {
    window.location.href = '/en/urunler/'; // Ürünler sayfasına yönlendir
  }

  // Ödemeye geç
  async function proceedToCheckout() {
    if (!user.isLoggedIn || !user.id) {
      showNotification(window.cartMessages?.loginRequired || 'Giriş yapmanız gerekiyor.', 'error');
      return;
    }

    try {
      // Sepet boş mu kontrol et
      const cartSnapshot = await dataListWeb(`users/${user.id}/cart`);
      if (cartSnapshot.empty) {
        showNotification('Sepetinizde ürün bulunmuyor!', 'error');
        return;
      }

      showNotification(window.cartMessages?.proceedingToPayment || 'Ödeme sayfasına yönlendiriliyorsunuz...', 'info');

      // Ödeme sayfasına yönlendir
      setTimeout(() => {
        window.location.href = '/en/odeme/';
      }, 1500);
    } catch (error) {
      console.error('Checkout error:', error);
      showNotification(window.cartMessages?.errorOccurred || 'Bir hata oluştu!', 'error');
    }
  }

  // Demo sepet öğeleri ekleme
  async function addDemoCartItems() {
    if (!user.isLoggedIn || !user.id) {
      showNotification('Demo sepet öğeleri eklemek için giriş yapmanız gerekiyor.', 'error');
      return;
    }

    const demoItems = [
      {
        name: "Nike Air Max 270",
        price: 1299.99,
        quantity: 2,
        category: "Spor Ayakkabı",
        image: "https://cdn.dsmcdn.com/ty967/product/media/images/20230717/17/394487857/972401512/1/1_org_zoom.jpg",
        addedAt: new Date()
      },
      {
        name: "Samsung Galaxy S23",
        price: 25999.99,
        quantity: 1,
        category: "Telefon",
        image: "https://images.samsung.com/is/image/samsung/p6pim/tr/2302/gallery/tr-galaxy-s23-s911-sm-s911bzadtur-534851764",
        addedAt: new Date()
      },
      {
        name: "Mechanical Gaming Keyboard",
        price: 899.99,
        quantity: 1,
        category: "Bilgisayar",
        image: "https://cdn.dsmcdn.com/ty485/product/media/images/20220630/15/136943469/490013059/1/1_org_zoom.jpg",
        addedAt: new Date()
      }
    ];

    try {
      for (const item of demoItems) {
        await dataAddWeb(`users/${user.id}/cart`, item);
      }

      showNotification('Demo sepet öğeleri başarıyla eklendi!', 'success');
      loadCart(); // Sepeti yeniden yükle
    } catch (error) {
      console.error('Demo items add error:', error);
      showNotification('Demo öğeler eklenirken hata oluştu!', 'error');
    }
  }

  // Bildirim sistemi
  function showNotification(message, type = 'info') {
    // Mevcut bildirimi kaldır
    const existingNotification = document.querySelector('.cart-notification');
    if (existingNotification) {
      existingNotification.remove();
    }

    // Yeni bildirim oluştur
    const notification = document.createElement('div');
    notification.className = `cart-notification ${type}`;
    notification.innerHTML = `
      <span class="material-symbols-outlined">
        ${type === 'success' ? 'check_circle' : type === 'error' ? 'error' : 'info'}
      </span>
      ${message}
    `;

    // Bildirim stilini ekle
    notification.style.cssText = `
      position: fixed;
      top: 20px;
      right: 20px;
      background: ${type === 'success' ? '#22c55e' : type === 'error' ? '#ef4444' : '#3b82f6'};
      color: white;
      padding: 12px 16px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1000;
    display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;
      animation: slideIn 0.3s ease-out;
    `;

    document.body.appendChild(notification);

    // 3 saniye sonra kaldır
    setTimeout(() => {
      notification.style.animation = 'slideOut 0.3s ease-in';
      setTimeout(() => {
        if (notification.parentNode) {
          notification.remove();
        }
      }, 300);
    }, 3000);
  }

  // Authentication state değişikliklerini dinle
  authStateListenerWeb((firebaseUser) => {
    if (firebaseUser) {
      // Kullanıcı giriş yapmış, sepeti yükle
      setTimeout(() => {
        loadCart();
      }, 500); // Firebase user objesi güncellenmesi için biraz bekle
    } else {
      // Kullanıcı giriş yapmamış
      document.getElementById('cartList').innerHTML =
        '<div class="no-cart">Sepetinizi görmek için giriş yapmanız gerekiyor.</div>';
    }
  });
</script>


</div>
  <div id="footer"><!-- Google Material Icons -->
<link
  href="https://fonts.googleapis.com/icon?family=Material+Icons"
  rel="stylesheet"
/>

<!-- Güven Kutuları Alanı -->
<div class="q3x5f-trust-boxes">
      <div class="q3x5f-trust-item">
        <span class="material-icons">account_balance_wallet</span>
        <div class="q3x5f-trust-text">
          <div class="q3x5f-trust-title">100% Secure Payment</div>
          <div class="q3x5f-trust-desc">Secure Payment with 3D Secure</div>
        </div>
      </div>
    
      <div class="q3x5f-trust-item">
        <span class="material-icons">inventory_2</span>
        <div class="q3x5f-trust-text">
          <div class="q3x5f-trust-title">100% Original Product</div>
          <div class="q3x5f-trust-desc">Activation with 100% Licensed Original Product</div>
        </div>
      </div>
    
      <div class="q3x5f-trust-item">
        <span class="material-icons">local_shipping</span>
        <div class="q3x5f-trust-text">
          <div class="q3x5f-trust-title">Fast Delivery</div>
          <div class="q3x5f-trust-desc">Online Fast Delivery for All Your Shopping</div>
        </div>
      </div>
    </div>

<!-- CSS -->

<footer class="footer">
  <div class="waves">
    <div class="wave" id="wave1"></div>
    <div class="wave" id="wave2"></div>
    <div class="wave" id="wave3"></div>
    <div class="wave" id="wave4"></div>
  </div>
  <ul class="social-icon">



    
    

 


    <li class="social-icon__item">
      <a class="social-icon__link" href="#">
        <ion-icon name="logo-facebook"></ion-icon>
      </a>
    </li>
    <li class="social-icon__item">
      <a class="social-icon__link" href="#">
        <ion-icon name="logo-x"></ion-icon>
      </a>
    </li>
    <li class="social-icon__item">
      <a class="social-icon__link" href="#">
        <ion-icon name="logo-linkedin"></ion-icon>
      </a>
    </li>
    <li class="social-icon__item">
      <a class="social-icon__link" href="#">
        <ion-icon name="logo-instagram"></ion-icon>
      </a>
    </li>
  </ul>
  <ul class="menu">
    <li class="menu__item"><a class="menu__link" href="/en">Home</a></li><li class="menu__item"><a class="menu__link" href="/en/bakir-mutfak-esyalari"></a></li><li class="menu__item"><a class="menu__link" href="/en/bakir-aksesuarlar"></a></li><li class="menu__item"><a class="menu__link" href="/en/ehli-keyf"></a></li><li class="menu__item"><a class="menu__link" href="/en/urunlerimiz"></a></li><li class="menu__item"><a class="menu__link" href="/en/yerelurunler"></a></li><li class="menu__item"><a class="menu__link" href="/en/kurumsal"></a></li><li class="menu__item"><a class="menu__link" href="/en/iletisim"></a></li>
  </ul>
  <p>Tiggergift 2025 cognite. &copy;</p>
</footer>

<a
  href="https://api.whatsapp.com/send/?phone=905320000000&text=&app_absent=0"
  target="_blank"
  class="whatsapp"
>
  <div class="whatsappicon">
    <svg
      _ngcontent-cty-c90=""
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      viewBox="0 0 32 32"
      class="wa-messenger-svg-whatsapp wh-svg-icon"
    >
      <path
        _ngcontent-cty-c90=""
        d=" M19.11 17.205c-.372 0-1.088 1.39-1.518 1.39a.63.63 0 0 1-.315-.1c-.802-.402-1.504-.817-2.163-1.447-.545-.516-1.146-1.29-1.46-1.963a.426.426 0 0 1-.073-.215c0-.33.99-.945.99-1.49 0-.143-.73-2.09-.832-2.335-.143-.372-.214-.487-.6-.487-.187 0-.36-.043-.53-.043-.302 0-.53.115-.746.315-.688.645-1.032 1.318-1.06 2.264v.114c-.015.99.472 1.977 1.017 2.78 1.23 1.82 2.506 3.41 4.554 4.34.616.287 2.035.888 2.722.888.817 0 2.15-.515 2.478-1.318.13-.33.244-.73.244-1.088 0-.058 0-.144-.03-.215-.1-.172-2.434-1.39-2.678-1.39zm-2.908 7.593c-1.747 0-3.48-.53-4.942-1.49L7.793 24.41l1.132-3.337a8.955 8.955 0 0 1-1.72-5.272c0-4.955 4.04-8.995 8.997-8.995S25.2 10.845 25.2 15.8c0 4.958-4.04 8.998-8.998 8.998zm0-19.798c-5.96 0-10.8 4.842-10.8 10.8 0 1.964.53 3.898 1.546 5.574L5 27.176l5.974-1.92a10.807 10.807 0 0 0 16.03-9.455c0-5.958-4.842-10.8-10.802-10.8z"
        fill-rule="evenodd"
      ></path>
    </svg>
  </div>
  
</a>

</div>
</body>

<link rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />



<script type="text/javascript" src="/src/js.js?v=fa9rf"></script>
<script src="/src/cookie.js?v=fa9rf"></script>

</html>
